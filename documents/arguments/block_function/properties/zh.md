# 属性方块函数

这种[方块函数](../zh.md)用于给现有的方块状态添加特定的属性。

对于方块 ID 直接接属性的语法（参见[简单方块函数](../simple/zh.md)），属性和值是在解析时就已经完全确定，如果遇到无效的属性和值，会导致解析失败。对于其他的情况，属性的和值并不确定，需要在实际进行判断时，先判断方块是否有这一名称的属性，以及是否有这一名称的值，然后再应用其属性和值。

## 语法

`[<属性><比较><值>, ...]`，其中外层的 `[...]` 表示方括号。

`<比较>` 可以是 `=` 或 `==`。对于使用 `=`（一个等号）的情况，当方块不支持该属性或值时，不会应用此属性。对于使用 `==`（两个等号）的情况，当方块不支持该属性或值时，会直接出错，中止整个函数的执行过程。

`<值>` 可以是 `*`，表示随机值，也可以是 `~`，表示使用初始方块（函数处理之前的方块）的值。

属性可以不指定。例如，`[*]` 表示将方块的所有属性都设置为随机的值，`[~]` 表示方块的所有属性都设置为原来的值。

多项用逗号隔开。最后一个项与右方括号之间可以有逗号，但是不必要。可以没有任何项，即 `[]`，表示不对方块状态属性进行任何的修改。

## 示例

- `[facing=east]`：将方块状态属性 `facing` 的值设置为 `east`。
    - 例如，如果原先的方块是石头，那么 `/setblock <坐标> #wool[facing=east]` 会把这个方块设为随机的羊毛，忽略 `facing` 属性。
- `[facing==east]`：将方块状态属性 `facing` 的值设置为 `east`，如果方块没有 `facing` 属性，则会中止整个函数的执行。
    - 例如，如果原先的方块是石头，那么 `/setblock <坐标> #wool[facing==east]` 不会有任何效果。
- `[facing=*]`：将方块状态属性 `facing` 的值设置为随机的值。
    - 例如，`#stairs[facing=*]` 表示随机朝向的楼梯。
- `[facing=~]`：将方块状态属性 `facing` 的值设为为原先的值。
    - 例如，如果原先的方块是个云杉木楼梯，那么 `/setblock <坐标> oak_stairs` 会将这个方块设为默认朝向的橡木楼梯，而 `/setblock <坐标> oak_stairs[facing=~]` 则会将这个方块设为和原先一样的朝向的橡木楼梯。
- `[facing=*, type=top]`：将方块状态属性 `facing` 的值设为随机的值，并将 `type` 的值设为 `top`。
- `[*]`：将所有的属性都设为随机值。
    - 例如，`#stairs[*]` 表示其朝向、类型、含水以及形状均为随机。
- `[*, waterlogged=false]`：将所有的属性都设为随机值，但是 `waterlogged` 属性除外，将 `waterlogged` 属性设为 `false`。
    - 例如，`#stairs[*, waterlogged=false]`表示其朝向、类型和形状都是随机的，但一定不含水。
- `[~]`：将所有的属性都设为原来的值。
    - 例如，如果原先的方块是个云杉木楼梯，那么 `/setblock <坐标> oak_stairs[*]` 会将这个方块设为有相同属性的橡木楼梯，其朝向、类型、含水、形状都均和原先的云杉木楼梯一致。

## 参见

- [属性方块谓词](../../block_predicate/properties/zh.md)