# `/replace` 和 `//replace`

此[命令](../zh.md)用于替换方块。方块放置的原理同 [`/setblocks`](../setblocks/zh.md)。

替换方块前，会先检查有哪些方块符合方块谓词，然后再对符合方块谓词的坐标进行操作，而不是对一个坐标进行操作后再判断下一个坐标的谓词，以免方块的操作影响谓词的判断（尤其是对于需要考虑周围方块的谓词的情况）。此行为与原版的 `/fill` 类似。

## 语法

`/replace <区域> <方块谓词> <方块函数> [关键字参数]`

关键字参数与 [`/setblocks`](../setblocks/zh.md) 相同，这里不作解释。

由于对方块谓词的判断是预先进行的，此命令不等同于 `/setblock <区域> if(<方块谓词>, <方块函数>) [关键字参数]`。

`//replace ...` 相当于 `/replace 玩家的活动区域 ...`。

## 参数

### `<区块>`

需要进行替换操作的区域。会在此区域内检查符合谓词的坐标并进行方块替换。

### `<方块谓词>`

需要被替换的方块。

### `<方块函数>`

需要放置的方块。

## 示例

- `/replace sphere(20) water lava`：将附近 20 格范围内的水替换为熔岩。
- `/replace sphere(20) water lava[~]`：将附近 20 格范围内的水替换为相同等级的熔岩。
- `/replace sphere(20) water lava[~] force=true`：将附近 20 格范围内的水替换为相同等级的熔岩，并抑制相应的方块更新。
- `/replace outwards(~~~, 10) chest air`：将各方向延伸 10 格的范围（即 21³ 的立方体）的箱子替换为空气。如果箱子内的物品，这些物品会掉落。
- `/replace outwards(~~~, 10) chest air suppress_replaced_check=true`：将各方向延伸 10 格的范围的箱子替换为空气，不会掉落箱子内的物品。