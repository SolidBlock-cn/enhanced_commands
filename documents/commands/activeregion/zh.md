# `/activeregion` 或 `/ar`

此[命令](../zh.md)用于管理玩家的活动区域。

活动区域可以用于快速地执行部分以双斜线开头的命令，例如当玩家有活动区域时，玩家可以直接对这个活动区域执行 `//fill dirt` 而不必再指定 `<区域>` 参数。

玩家切换维度、死亡、重生均不影响活动区域。活动区域不指定维度。活动区域不被保存，玩家退出世界后活动区域被移除。

## 语法

`/ar` 是 `/activeregion` 的简便写法。为表方便，本页使用 `/ar`。

- `/ar <玩家> get`：获取玩家的活动区域。如果玩家未指定，则获取当前玩家的活动区域。获取到的活动区域将以表达式的形式输出。
- `/ar <玩家> set <区域> [关键字参数：fixed]`：设置玩家的活动区域。
- `/ar <玩家> remove`：移除玩家的活动区域。如果玩家未指定，则移除当前玩家的活动区域。
- `/ar <玩家> move [方向] [数量]`：将玩家的活动区域朝指定的方向（默认为命令指行环境的方向）移动，移动的数量默认为 1。
- `/ar <玩家> move <x> <y> <z>`：将玩家的活动区域朝指定的向量进行移动。
- `/ar <玩家> rotate <旋转角度> [中心]`：将玩家的活动区域绕指定的中心点旋转，中心点默认为执行源所在方块位置的正中心。
- `/ar <玩家> mirror`：将玩家的活动区域镜像。

`//activeregion` 和 `//ar` 是 `/activeregion %s` 的简写，可用于对玩家自己的活动区域进行操作。特别地，当使用 `//activeregion` 或 `//ar` 未给出参数时，可以获取玩家自身的活动区域，相当于 `/ar @s get`。

## 参数

### `<玩家>`

实体选择器。

### `<区域>`

将玩家的活动区域设置为指定的[区域](/documents/arguments/region/zh.md)。

### 关键字参数：`fixed`

布尔值，默认为 `true`。当玩家输入的 `<区域>` 参数中存在相对坐标或局部坐标时，如果此参数为 `true`，那么这些相对坐标或局部坐标以后在计算时都将以本次命令执行源为基础，否则为以后每次获取活动命令时都将以当时的命令执行源为基础。

例如，如果位于坐标 a 的玩家执行 `/ar set sphere(3)` 或 `ar set sphere(3) fixed=true`，那么当玩家跑到坐标 b 并执行 `//fill stone`，石头仍生成在坐标 a 的位置。无论玩家跑到哪里，执行此命令时石头都会生成在 a 的位置。

而如果位于坐标 a 的玩家执行 `/ar set sphere(3) fixed=false`，那么当玩家跑到坐标 b 并执行 `//fill stone`，石头就会生成在坐标 b 的位置。玩家跑到哪里，执行此命令时石头就会生成在哪里。

需要注意的是，活动区域是不记录维度的，当玩家切换维度后执行命令或者命令被指定在不同的维度执行时，命令就会正常在相应维度的对应相同位置的区域执行。

## 示例

- `/ar @s get` 和 `/ar`：获取自己的活动区域。
- `/ar @r get`：获取随机一名玩家的活动区域。
- `/ar @a get`：无效的命令，因为选择器必须只选择一个实体。
- `/ar @s set sphere(5)`：当自己（命令执行源的实体）的活动区域设置为以当前位置为中心、半径为 5 的球体。
- `//ar set sphere(5)`：和上一个例子等价。
- `/ar @s sphere(5) fixed=false`：将自己的活动区域设置为半径为 5 的球体，球体的位置随未来执行涉及活动区域的命令时的命令源的位置而改变。
- `//ar remove`：移除自己的的活动区域。
- `/ar @a remove`：移除所有玩家的活动区域。